<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Browser tab / SEO -->
  <title>CIWC</title>
  <meta name="description" content="Concordia International Weightlifting Club (CIWC) — schedule, contact, and latest videos." />
  <meta name="theme-color" content="#ef4444" />

  <!-- iOS “Add to Home Screen” / standalone -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="CIWC" />
  <meta name="application-name" content="CIWC" />

  <!-- Social -->
  <meta property="og:title" content="CIWC" />
  <meta property="og:description" content="Schedule, contact, and latest videos." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/logo_mobile.png" />

  <!-- Icons (IMPORTANT: use the square padded icon for iOS) -->
  <link rel="apple-touch-icon" sizes="180x180" href="images/logo_mobile.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="images/logo_mobile.png" />

  <link rel="preconnect" href="https://www.youtube.com" crossorigin />
  <link rel="preconnect" href="https://i.ytimg.com" crossorigin />

  <style>
    :root{
      --bg:#0c0b0c;
      --surface:#141014;
      --surface2:#161116;
      --text:#f3eef0;
      --muted:#c9b9be;
      --brand:#ef4444;
      --border:rgba(255,255,255,.10);
      --ring:rgba(239,68,68,.55);
      --shadow:0 10px 24px rgba(0,0,0,.28);
      --radius:16px;

      --container:1100px;
      --px:18px;
      --header-h:64px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
      *,*::before,*::after{animation:none!important;transition:none!important}
    }

    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      line-height:1.6;
      color:var(--text);
      background:
        radial-gradient(1000px 700px at 10% -10%, rgba(239,68,68,.10), transparent 60%),
        radial-gradient(800px 600px at 110% 0%, rgba(248,113,113,.08), transparent 60%),
        var(--bg);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      text-rendering:optimizeLegibility;
    }

    a{color:inherit}
    a:hover{text-decoration:underline}
    img{display:block;max-width:100%}
    :focus-visible{outline:2px solid var(--ring);outline-offset:2px;border-radius:12px}

    .container{max-width:var(--container);margin:0 auto;padding:0 var(--px)}
    .muted{color:var(--muted)}

    /* Skip link */
    .skip{
      position:absolute;left:-999px;top:0;z-index:1000;
      padding:10px 12px;background:var(--surface);border:1px solid var(--border);
      border-radius:12px;
    }
    .skip:focus{left:12px;top:12px}

    /* Header */
    header.site{
      position:sticky;top:0;z-index:50;
      background:rgba(20,16,20,.82);
      backdrop-filter:blur(12px);
      border-bottom:1px solid var(--border);
    }
    .nav{
      min-height:var(--header-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      position:relative;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
      text-decoration:none;color:inherit;min-width:0;
    }
    .brand img{
      width:40px;height:40px;object-fit:contain;border-radius:10px;
      box-shadow:0 0 0 3px rgba(239,68,68,.12);
      flex:0 0 auto;
    }
    .brand-text{
      display:flex;flex-direction:column;gap:2px;min-width:0;
      line-height:1.05;
    }
    .brand-title{
      font-weight:900;letter-spacing:.08em;text-transform:uppercase;
      font-size:13px;white-space:nowrap;
    }
    .brand-sub{
      font-size:12px;color:var(--muted);font-weight:700;
      max-width:40ch;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
    }

    .menu-btn{
      display:none;
      font:inherit;font-weight:900;font-size:18px;
      padding:10px 12px;border-radius:14px;
      border:1px solid var(--border);
      background:transparent;color:var(--text);
      cursor:pointer;
    }
    .menu-btn:hover{background:rgba(255,255,255,.05)}

    nav.links{
      display:flex;align-items:center;gap:18px;flex-wrap:nowrap;
    }
    nav.links a{
      text-decoration:none;
      font-weight:800;font-size:14px;opacity:.92;
      padding:8px 8px;border-radius:12px;
      white-space:nowrap;
    }
    nav.links a:hover{
      text-decoration:none;
      background:rgba(255,255,255,.05);
      opacity:1;
    }

    /* Mobile nav dropdown */
    @media (max-width: 860px){
      :root{--px:16px}
      .menu-btn{display:inline-flex;align-items:center;gap:8px}
      nav.links{
        display:none;
        position:absolute;
        left:0;right:0;
        top:calc(100% + 10px);
        flex-direction:column;
        align-items:stretch;
        gap:10px;
        padding:12px;
        border-radius:var(--radius);
        border:1px solid var(--border);
        background:rgba(20,16,20,.94);
        backdrop-filter:blur(12px);
        box-shadow:var(--shadow);
      }
      nav.links[data-open="true"]{display:flex}
      nav.links a{
        background:rgba(255,255,255,.04);
        padding:12px 12px;
      }
      .brand-sub{max-width:26ch}
    }

    /* Hero */
    .hero{padding:56px 0 22px;text-align:center}
    .hero h1{
      margin:0 0 10px;
      font-size:clamp(28px, 6vw, 52px);
      line-height:1.05;
      letter-spacing:-.02em;
    }
    .hero p{
      margin:0 auto 18px;
      max-width:760px;
      color:var(--muted);
      font-size:clamp(14px, 2.6vw, 18px);
    }
    .cta{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:12px 16px;border-radius:14px;border:1px solid var(--border);
      background:var(--brand);color:#240808;font-weight:900;
      text-decoration:none;box-shadow:var(--shadow);min-width:170px;
    }
    .btn:hover{text-decoration:none;filter:brightness(1.02)}
    .btn.ghost{background:transparent;color:var(--text);box-shadow:none}
    .btn.ghost:hover{background:rgba(255,255,255,.05)}
    @media (max-width:520px){
      .hero{padding:36px 0 16px}
      .cta{flex-direction:column;align-items:stretch}
      .btn{width:100%;min-width:0}
    }

    /* Sections */
    main{padding-bottom:40px}
    section{padding:26px 0}
    h2{margin:0 0 12px;font-size:20px;letter-spacing:-.01em}

    .card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:var(--shadow);
    }

    .embed{
      width:100%;
      aspect-ratio:16/9;
      border:0;
      border-radius:14px;
      overflow:hidden;
      background:#0f0d10;
    }

    /* Schedule: desktop table, mobile “row cards” */
    table.schedule{width:100%;border-collapse:collapse}
    table.schedule th, table.schedule td{padding:12px 12px;text-align:left}
    table.schedule thead th{
      background:var(--surface2);
      border-bottom:1px solid var(--border);
      position:sticky;
      top:var(--header-h);
      z-index:1;
    }
    table.schedule tbody tr{border-bottom:1px solid var(--border)}
    table.schedule tbody tr:last-child{border-bottom:none}

    @media (max-width:700px){
      table.schedule{border-collapse:separate;border-spacing:0 10px}
      table.schedule thead{display:none}
      table.schedule, table.schedule tbody, table.schedule tr, table.schedule td{
        display:block;width:100%;
      }
      table.schedule tbody tr{
        border:1px solid var(--border);
        background:rgba(255,255,255,.02);
        border-radius:16px;
        overflow:hidden;
      }
      table.schedule td{
        border-bottom:1px solid rgba(255,255,255,.06);
        padding:12px 14px;
        display:flex;align-items:flex-start;justify-content:space-between;gap:14px;
      }
      table.schedule td:last-child{border-bottom:none}
      table.schedule td::before{
        content: attr(data-label);
        color:var(--muted);
        font-weight:900;
        letter-spacing:.12em;
        text-transform:uppercase;
        font-size:11px;
        max-width:40%;
      }
      table.schedule td span{
        font-weight:900;
        text-align:right;
        flex:1 1 auto;
      }
    }

    /* Contact */
    .grid{display:grid;gap:16px}
    .contact-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:860px){ .contact-grid{grid-template-columns:1fr} }

    footer{
      color:var(--muted);
      padding:26px 0 54px;
      text-align:center;
      border-top:1px solid rgba(255,255,255,.06);
      background:rgba(20,16,20,.30);
    }

    .sr-only{
      position:absolute;width:1px;height:1px;padding:0;margin:-1px;
      overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
    }
  </style>

  <script defer>
    // ===== CONFIG =====
    const CONFIG = {
      shortName: "CIWC",
      fullName: "Concordia International Weightlifting Club",

      // YouTube
      channelId: "UC3EnVXpZZ2f3pTmMMZJzWLg",
      playlistId: "PLV42tu4VffDrEOQEEcd4ID1bu-QPQqk9e",

      // Contact
      links: {
        email: "ciwc2001@gmail.com",
        instagram: "https://www.instagram.com/concordiaweightlifting/",
        address: "5400 Av de Westbury, Montréal, QC H3W 2Y8",
        // IMPORTANT: for GitHub Pages project sites, keep this relative
        contactForm: "inquiry/"
      },

      schedule: [
        { day: "Monday",    time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Wednesday", time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Thursday",  time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Saturday",  time: "9:00 AM–12:00 PM", location: "YMHA Gym" },
      ]
    };

    const $  = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));
    const safeText = (el, v) => { if (el && v != null) el.textContent = String(v); };
    const safeHref = (el, href) => { if (el && href) el.setAttribute("href", href); };

    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, (m) => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;'
      }[m]));
    }
    function setExternalLink(a){
      if (!a) return;
      a.target = "_blank";
      a.rel = "noopener noreferrer";
    }

    document.addEventListener("DOMContentLoaded", () => {
      // Set brand text
      safeText($("#brand-title"), CONFIG.shortName);
      safeText($("#brand-sub"), CONFIG.fullName);
      safeText($("#hero-title"), CONFIG.fullName);

      // Mobile menu
      initMobileMenu();

      // YouTube links
      const channelUrl = CONFIG.channelId ? `https://www.youtube.com/channel/${encodeURIComponent(CONFIG.channelId)}` : "#";
      $$("[data-channel-link]").forEach(a => { safeHref(a, channelUrl); setExternalLink(a); });

      // Playlist embed
      mountYouTubePlaylistEmbed(CONFIG.playlistId);

      // Schedule (with labels for mobile cards)
      const tbody = $("#schedule-body");
      if (tbody) {
        tbody.innerHTML = CONFIG.schedule.map(r => `
          <tr>
            <td data-label="Day"><span>${escapeHtml(r.day)}</span></td>
            <td data-label="Time"><span>${escapeHtml(r.time)}</span></td>
            <td data-label="Location"><span>${escapeHtml(r.location)}</span></td>
          </tr>
        `).join("");
      }

      // Contact info
      const emailEl = $("#email-link");
      if (emailEl && CONFIG.links.email) { safeHref(emailEl, `mailto:${CONFIG.links.email}`); safeText(emailEl, CONFIG.links.email); }

      const instaEl = $("#insta-link");
      if (instaEl && CONFIG.links.instagram) { safeHref(instaEl, CONFIG.links.instagram); setExternalLink(instaEl); }

      safeText($("#address-text"), CONFIG.links.address);

      const formEl = $("#form-link");
      if (formEl && CONFIG.links.contactForm) safeHref(formEl, CONFIG.links.contactForm);

      // Footer year
      safeText($("#year"), new Date().getFullYear());
    });

    function initMobileMenu(){
      const btn = $("#menu-btn");
      const nav = $("#site-nav");
      if (!btn || !nav) return;

      const close = () => { nav.dataset.open = "false"; btn.setAttribute("aria-expanded", "false"); };
      const open  = () => { nav.dataset.open = "true";  btn.setAttribute("aria-expanded", "true");  };
      const toggle = () => (nav.dataset.open === "true" ? close() : open());

      btn.addEventListener("click", (e) => { e.preventDefault(); toggle(); });
      nav.querySelectorAll("a").forEach(a => a.addEventListener("click", close));

      document.addEventListener("click", (e) => {
        if (nav.dataset.open !== "true") return;
        if (!nav.contains(e.target) && !btn.contains(e.target)) close();
      });

      document.addEventListener("keydown", (e) => { if (e.key === "Escape") close(); });

      window.addEventListener("resize", () => {
        if (window.matchMedia("(min-width: 861px)").matches) close();
      });
    }

    function mountYouTubePlaylistEmbed(playlistId){
      const iframe = document.getElementById("playlist-player");
      if (!iframe || !playlistId) return;

      const params = new URLSearchParams({
        listType: "playlist",
        list: playlistId,
        rel: "0",
        modestbranding: "1",
        playsinline: "1"
      });

      iframe.setAttribute("loading", "lazy");
      iframe.setAttribute("referrerpolicy", "strict-origin-when-cross-origin");
      iframe.setAttribute("allow", "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share");
      iframe.src = `https://www.youtube.com/embed?${params.toString()}`;
    }
  </script>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <header class="site">
    <div class="container nav">
      <a class="brand" href="./" aria-label="Home">
        <img src="images/logo_mobile.png" alt="CIWC logo" />
        <span class="brand-text">
          <span id="brand-title" class="brand-title">CIWC</span>
          <span id="brand-sub" class="brand-sub">Concordia International Weightlifting Club</span>
        </span>
      </a>

      <button id="menu-btn" class="menu-btn" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="site-nav">
        ☰ <span class="sr-only">Menu</span>
      </button>

      <nav id="site-nav" class="links" data-open="false" aria-label="Primary">
        <a href="#videos">Videos</a>
        <a href="#schedule">Schedule</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a data-channel-link href="#">YouTube ↗</a>
        <a id="form-link" href="inquiry/">Inquiry ↗</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1 id="hero-title">Concordia International Weightlifting Club</h1>
      <p>Community Olympic weightlifting in Montréal. Beginners welcome.</p>
      <div class="cta">
        <a class="btn" data-channel-link href="#">Visit YouTube</a>
        <a class="btn ghost" href="inquiry/">Contact / Inquiry</a>
      </div>
    </div>
  </section>

  <main id="main" class="container" tabindex="-1">
    <section id="videos">
      <h2>Latest Videos</h2>
      <iframe
        id="playlist-player"
        class="embed"
        title="YouTube playlist"
        allowfullscreen>
      </iframe>
      <noscript><div class="card">Enable JavaScript to see the video playlist.</div></noscript>
    </section>

    <section id="schedule">
      <h2>Training Schedule</h2>
      <div class="card" role="region" aria-label="Training schedule">
        <table class="schedule">
          <thead>
            <tr>
              <th>Day</th>
              <th>Time</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody id="schedule-body"></tbody>
        </table>
      </div>
    </section>

    <section id="about">
      <h2>About the Club</h2>
      <div class="card">
        <p style="margin:0">
          We are a community club focused on Olympic weightlifting. Founded in 2002 by John Margolis,
          we have trained athletes of all ages and backgrounds. Everyone is welcome—from beginners to
          national competitors. Drop in for a trial session or to chat with our athletes.
        </p>
      </div>
    </section>

    <!-- Sponsors hidden for now -->
    <section id="sponsors" hidden></section>

    <section id="contact">
      <h2>Contact</h2>
      <div class="grid contact-grid">
        <div class="card">
          <p style="margin:0 0 8px"><strong>Email:</strong> <a id="email-link" href="mailto:">ciwc2001@gmail.com</a></p>
          <p style="margin:0 0 8px"><strong>Instagram:</strong> <a id="insta-link" href="#" rel="noopener">@concordiaweightlifting</a></p>
          <p style="margin:0"><strong>Address:</strong> <span id="address-text"></span></p>
        </div>
        <div class="card">
          <h3 style="margin:6px 0 10px;font-size:16px;letter-spacing:-.01em">Inquiry Form</h3>
          <!-- For GitHub Pages project sites, keep this relative -->
          <p style="margin:0"><a href="inquiry/">Sign-up / Inquiry Form ↗</a></p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p style="margin:0">© <span id="year"></span> CIWC. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
