<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Concordia International Weightlifting Club</title>
  <meta name="description" content="Concordia International Weightlifting Club — schedule, contact, and latest videos." />
  <meta name="theme-color" content="#ef4444" />

  <!-- iOS / PWA-ish -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="CI Weightlifting" />
  <meta name="application-name" content="CI Weightlifting" />

  <!-- Open Graph -->
  <meta property="og:title" content="Concordia International Weightlifting Club" />
  <meta property="og:description" content="Schedule, contact, and latest videos." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="og.png" />

  <!-- Icons
    IMPORTANT:
    - Create a dedicated SQUARE 180x180 icon file (centered logo with padding).
    - Do NOT reuse your in-page logo for the app icon.
  -->
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png" />
  <!-- Optional: if you add a manifest -->
  <!-- <link rel="manifest" href="site.webmanifest" /> -->

  <link rel="preconnect" href="https://www.youtube.com" crossorigin>
  <link rel="preconnect" href="https://i.ytimg.com" crossorigin>

  <style>
    :root{
      --bg:#0c0b0c;
      --surface:#141014;
      --surface-2:#161116;
      --text:#f3eef0;
      --muted:#c9b9be;
      --brand:#ef4444;
      --brand-2:#f87171;
      --ring:rgba(239,68,68,.55);
      --border:rgba(255,255,255,.10);
      --shadow:0 10px 24px rgba(0,0,0,.28);
      --radius:16px;

      --container: 1040px;
      --px: 20px;
      --header-h: 64px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
      *,*::before,*::after{animation:none!important;transition:none!important}
    }

    body{
      margin:0;
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      line-height:1.6;
      color:var(--text);
      background:
        radial-gradient(1000px 700px at 10% -10%, rgba(239,68,68,.10), transparent 60%),
        radial-gradient(800px 600px at 110% 0%, rgba(248,113,113,.08), transparent 60%),
        var(--bg);
      overflow-x:hidden;
      text-rendering:optimizeLegibility;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    img{max-width:100%;display:block}
    a{color:var(--brand-2);text-decoration:none}
    a:hover{text-decoration:underline}
    :focus-visible{outline:2px solid var(--ring);outline-offset:2px;border-radius:12px}

    .container{
      max-width:var(--container);
      margin:0 auto;
      padding:0 var(--px);
    }

    /* Skip link (a11y) */
    .skip{
      position:absolute;
      left:-999px;
      top:0;
      padding:10px 12px;
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:12px;
      z-index:100;
    }
    .skip:focus{left:12px;top:12px}

    /* Header */
    header.site{
      position:sticky;
      top:0;
      z-index:50;
      background:rgba(20,16,20,.72);
      backdrop-filter:blur(10px);
      border-bottom:1px solid var(--border);
    }
    .nav{
      min-height:var(--header-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      position:relative; /* allows dropdown positioning */
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
      text-decoration:none;
      color:inherit;
    }
    .brand img{
      height:38px;
      width:38px;
      object-fit:contain;
      border-radius:10px;
      box-shadow:0 0 0 3px rgba(239,68,68,.12);
      flex:0 0 auto;
    }
    .brand-name{
      font-weight:800;
      letter-spacing:.2px;
      line-height:1.1;
      font-size:14px;
      max-width:28ch;
      overflow-wrap:anywhere;
      text-transform:uppercase;
    }

    .nav-right{display:flex;align-items:center;gap:12px}

    .nav-links{
      display:flex;
      align-items:center;
      gap:18px;
      flex-wrap:nowrap;
    }
    .nav-links a{
      color:var(--text);
      opacity:.92;
      font-weight:700;
      font-size:14px;
      white-space:nowrap;
    }

    .menu-btn{
      display:none;
      font:inherit;
      font-weight:900;
      font-size:18px;
      line-height:1;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      cursor:pointer;
    }
    .menu-btn:hover{background:rgba(255,255,255,.05)}
    .menu-btn .icon{display:inline-block;transform:translateY(-1px)}

    /* Mobile menu dropdown */
    @media (max-width: 860px){
      :root{--px:16px}
      .menu-btn{display:inline-flex;align-items:center;gap:10px}
      .nav-links{
        display:none;
        position:absolute;
        left:0;
        right:0;
        top:calc(100% + 10px);
        flex-direction:column;
        align-items:stretch;
        gap:10px;
        padding:12px;
        border-radius:var(--radius);
        border:1px solid var(--border);
        background:rgba(20,16,20,.94);
        backdrop-filter:blur(12px);
        box-shadow:var(--shadow);
      }
      .nav-links[data-open="true"]{display:flex}
      .nav-links a{
        padding:12px 12px;
        border-radius:12px;
        background:rgba(255,255,255,.04);
      }
      .brand-name{max-width:18ch}
    }

    /* Hero */
    .hero{
      padding:56px 0 22px;
      text-align:center;
    }
    .hero h1{
      font-size:clamp(28px, 6vw, 54px);
      line-height:1.05;
      margin:0 0 10px;
      letter-spacing:-.02em;
    }
    .hero p{
      color:var(--muted);
      margin:0 auto 18px;
      max-width:760px;
      font-size:clamp(14px, 2.6vw, 18px);
    }

    .cta{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:12px 16px;
      border-radius:14px;
      border:1px solid var(--border);
      background:var(--brand);
      color:#2a0c0c;
      font-weight:900;
      box-shadow:var(--shadow);
      cursor:pointer;
      min-width:170px;
      text-decoration:none;
    }
    .btn:hover{text-decoration:none;filter:brightness(1.02)}
    .btn.ghost{
      background:transparent;
      color:var(--text);
      box-shadow:none;
    }
    .btn.ghost:hover{background:rgba(255,255,255,.05)}
    button.btn{font:inherit}

    @media (max-width: 520px){
      .hero{padding:36px 0 16px}
      .cta{
        width:100%;
        flex-direction:column;
        align-items:stretch;
      }
      .btn{width:100%;min-width:0}
    }

    /* Sections */
    main{padding-bottom:40px}
    section{padding:26px 0}
    h2{
      font-size:20px;
      margin:0 0 12px;
      letter-spacing:-.01em;
    }

    .card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:var(--shadow);
    }

    .grid{display:grid;gap:16px}

    .embed{
      width:100%;
      aspect-ratio:16/9;
      border:0;
      border-radius:14px;
      overflow:hidden;
      background:#0f0d10;
    }

    /* ========== TRAINING SCHEDULE (FIXED) ==========
       Desktop/tablet: normal table.
       Mobile: stacked “cards” per row with labels (no horizontal scroll).
    */
    .schedule-wrap{overflow:visible}
    table.schedule{
      width:100%;
      border-collapse:collapse;
    }
    table.schedule th, table.schedule td{padding:12px 12px;text-align:left}
    table.schedule thead th{
      background:var(--surface-2);
      border-bottom:1px solid var(--border);
      position:sticky;
      top:var(--header-h);
      z-index:1;
    }
    table.schedule tbody tr{border-bottom:1px solid var(--border)}
    table.schedule tbody tr:last-child{border-bottom:none}

    /* Better column balance on desktop */
    table.schedule col.col-day{width:28%}
    table.schedule col.col-time{width:42%}
    table.schedule col.col-loc{width:30%}

    /* Mobile: convert table into cards */
    @media (max-width: 700px){
      table.schedule{border-collapse:separate;border-spacing:0 10px}
      table.schedule thead{display:none}
      table.schedule colgroup{display:none}

      table.schedule, table.schedule tbody, table.schedule tr, table.schedule td{
        display:block;
        width:100%;
      }

      table.schedule tbody tr{
        border:1px solid var(--border);
        background:rgba(255,255,255,.02);
        border-radius:16px;
        overflow:hidden;
      }

      table.schedule td{
        border-bottom:1px solid rgba(255,255,255,.06);
        padding:12px 14px;
        display:flex;
        align-items:flex-start;
        justify-content:space-between;
        gap:14px;
      }
      table.schedule td:last-child{border-bottom:none}

      table.schedule td::before{
        content: attr(data-label);
        color:var(--muted);
        font-weight:800;
        letter-spacing:.2px;
        text-transform:uppercase;
        font-size:12px;
        flex:0 0 auto;
        max-width:40%;
      }
      table.schedule td span{
        font-weight:800;
        text-align:right;
        flex:1 1 auto;
      }
    }

    /* Contact grid responsive */
    .contact-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width: 860px){
      .contact-grid{grid-template-columns:1fr}
    }

    footer{
      color:var(--muted);
      padding:26px 0 54px;
      text-align:center;
      border-top:1px solid rgba(255,255,255,.06);
      background:rgba(20,16,20,.30);
    }

    .muted{color:var(--muted)}
    .sr-only{
      position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
    }
  </style>

  <script defer>
    // ===== CONFIG — edit only this object =====
    const CONFIG = {
      clubName: "CONCORDIA INTERNATIONAL WEIGHTLIFTING CLUB",

      // YouTube
      channelId: "UC3EnVXpZZ2f3pTmMMZJzWLg",
      playlistId: "PLV42tu4VffDrEOQEEcd4ID1bu-QPQqk9e",
      featuredVideoId: "",

      // Links + contact
      links: {
        email: "ciwc2001@gmail.com",
        instagram: "https://www.instagram.com/concordiaweightlifting/",
        address: "5400 Av de Westbury, Montréal, QC H3W 2Y8",
        contactForm: "inquiry/"
      },

      // Sponsors hidden for now
      showSponsors: false,
      sponsors: [],

      schedule: [
        { day: "Monday",    time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Wednesday", time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Thursday",  time: "4:00 PM–8:00 PM",  location: "YMHA Gym" },
        { day: "Saturday",  time: "9:00 AM–12:00 PM", location: "YMHA Gym" },
      ]
    };

    // ===== Utilities =====
    const $  = (s, root=document) => root.querySelector(s);
    const $$ = (s, root=document) => Array.from(root.querySelectorAll(s));
    const safeText = (el, value) => { if (el && value != null) el.textContent = String(value); };
    const safeHref = (el, href) => { if (el && href) el.setAttribute('href', href); };
    const safeAttr = (el, name, value) => { if (el && value != null) el.setAttribute(name, String(value)); };

    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, (m) => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;'
      }[m]));
    }

    function setExternalLink(a) {
      if (!a) return;
      a.target = "_blank";
      a.rel = "noopener noreferrer";
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Club name
      $$('.brand-name,[data-club-name]').forEach(el => safeText(el, CONFIG.clubName));

      // Logo fallback
      const logo = $('#club-logo');
      if (logo) logo.onerror = () => { logo.style.display = 'none'; };

      // Mobile menu
      initMobileMenu();

      // Channel links
      const channelUrl = CONFIG.channelId ? `https://www.youtube.com/channel/${encodeURIComponent(CONFIG.channelId)}` : '#';
      $$('[data-channel-link]').forEach(a => {
        safeHref(a, channelUrl);
        setExternalLink(a);
      });

      // Schedule (adds data-label so mobile cards look great)
      const tbody = $('#schedule-body');
      if (tbody) {
        tbody.innerHTML = CONFIG.schedule.map(r => `
          <tr>
            <td data-label="Day"><span>${escapeHtml(r.day)}</span></td>
            <td data-label="Time"><span>${escapeHtml(r.time)}</span></td>
            <td data-label="Location"><span>${escapeHtml(r.location)}</span></td>
          </tr>
        `).join('');
      }

      // Contact
      const emailEl = $('#email-link');
      if (emailEl && CONFIG.links.email) {
        safeHref(emailEl, `mailto:${CONFIG.links.email}`);
        safeText(emailEl, CONFIG.links.email);
      }

      const instaEl = $('#insta-link');
      if (instaEl && CONFIG.links.instagram) {
        safeHref(instaEl, CONFIG.links.instagram);
        setExternalLink(instaEl);
      }

      safeText($('#address-text'), CONFIG.links.address);

      const formEl = $('#form-link');
      if (formEl && CONFIG.links.contactForm) safeHref(formEl, CONFIG.links.contactForm);

      // Featured video (optional)
      const featured = $('#featured');
      if (featured) {
        if (CONFIG.featuredVideoId) {
          featured.innerHTML = `
            <div class="card">
              <h2 style="margin:0 0 12px;">Featured Video</h2>
              <iframe
                class="embed"
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                title="Featured YouTube video"
                src="https://www.youtube.com/embed/${encodeURIComponent(CONFIG.featuredVideoId)}?rel=0&modestbranding=1&playsinline=1">
              </iframe>
            </div>`;
        } else {
          featured.remove();
        }
      }

      // Playlist embed
      mountYouTubePlaylistEmbed(CONFIG.playlistId);

      // Sponsors hidden for now
      const sponsorsSection = $('#sponsors');
      if (sponsorsSection) sponsorsSection.hidden = true;

      // Footer year
      safeText($('#year'), new Date().getFullYear());
    });

    function initMobileMenu() {
      const btn = $('#menu-btn');
      const nav = $('#site-nav');
      if (!btn || !nav) return;

      const close = () => {
        nav.dataset.open = "false";
        btn.setAttribute("aria-expanded", "false");
      };
      const open = () => {
        nav.dataset.open = "true";
        btn.setAttribute("aria-expanded", "true");
      };
      const toggle = () => (nav.dataset.open === "true" ? close() : open());

      btn.addEventListener('click', (e) => {
        e.preventDefault();
        toggle();
      });

      nav.querySelectorAll('a').forEach(a => a.addEventListener('click', close));

      document.addEventListener('click', (e) => {
        if (nav.dataset.open !== "true") return;
        if (!nav.contains(e.target) && !btn.contains(e.target)) close();
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === "Escape") close();
      });

      window.addEventListener('resize', () => {
        if (window.matchMedia('(min-width: 861px)').matches) close();
      });
    }

    function mountYouTubePlaylistEmbed(playlistId) {
      const iframe = document.getElementById('playlist-player');
      if (!iframe || !playlistId) return;

      const params = new URLSearchParams({
        listType: 'playlist',
        list: playlistId,
        rel: '0',
        modestbranding: '1',
        playsinline: '1'
      });

      iframe.setAttribute('referrerpolicy', 'strict-origin-when-cross-origin');
      iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
      iframe.src = `https://www.youtube.com/embed?${params.toString()}`;
    }
  </script>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <header class="site">
    <div class="container nav">
      <a class="brand" href="./" aria-label="Home">
        <img id="club-logo" src="images/logo.png" alt="Club logo" />
        <span class="brand-name">Concordia International</span>
      </a>

      <div class="nav-right">
        <button id="menu-btn" class="menu-btn" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="site-nav">
          <span class="icon">☰</span> <span class="sr-only">Menu</span>
        </button>

        <nav id="site-nav" class="nav-links" data-open="false" aria-label="Primary">
          <a href="./">Home</a>
          <a href="#videos">Videos</a>
          <a href="#schedule">Schedule</a>
          <a href="#about">About</a>
          <a href="#contact">Contact</a>
          <a data-channel-link href="#">YouTube ↗</a>
        </nav>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1><span data-club-name>Concordia International</span></h1>
      <p>Check out our latest videos, training schedule, and contact info.</p>
      <div class="cta">
        <a class="btn" data-channel-link href="#">Visit YouTube</a>
        <a class="btn ghost" href="inquiry/">Contact / Inquiry</a>
      </div>
    </div>
  </section>

  <main id="main" class="container" tabindex="-1">
    <section id="featured"></section>

    <section id="videos">
      <h2>Latest Videos</h2>
      <iframe
        id="playlist-player"
        class="embed"
        loading="lazy"
        allowfullscreen
        title="YouTube playlist">
      </iframe>
      <noscript><div class="card">Enable JavaScript to see the video playlist.</div></noscript>
    </section>

    <section id="schedule">
      <h2>Training Schedule</h2>
      <div class="card schedule-wrap" role="region" aria-label="Training schedule">
        <table class="schedule">
          <colgroup>
            <col class="col-day" />
            <col class="col-time" />
            <col class="col-loc" />
          </colgroup>
          <thead>
            <tr>
              <th>Day</th>
              <th>Time</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody id="schedule-body"></tbody>
        </table>
      </div>
    </section>

    <section id="about">
      <h2>About the Club</h2>
      <div class="card">
        <p style="margin:0">
          We are a community club focused on Olympic weightlifting. Founded in 2002 by John Margolis,
          we have trained many athletes of all ages and backgrounds. Everyone is welcome—from beginners to
          national competitors. Drop in for a trial session or to chat with our athletes!
        </p>
      </div>
    </section>

    <!-- Sponsors hidden for now (kept for later implementation) -->
    <section id="sponsors" hidden></section>

    <section id="contact">
      <h2>Contact</h2>
      <div class="grid contact-grid">
        <div class="card">
          <p style="margin:0 0 8px"><strong>Email:</strong> <a id="email-link" href="mailto:">ciwc2001@gmail.com</a></p>
          <p style="margin:0 0 8px"><strong>Instagram:</strong> <a id="insta-link" href="#" target="_blank" rel="noopener">@concordiaweightlifting</a></p>
          <p style="margin:0"><strong>Address:</strong> <span id="address-text"></span></p>
        </div>
        <div class="card">
          <h3 style="margin:6px 0 10px;font-size:16px;letter-spacing:-.01em">Inquiry Form</h3>
          <p style="margin:0"><a id="form-link" href="inquiry/">Sign-up / Inquiry Form ↗</a></p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p style="margin:0">© <span id="year"></span> <span data-club-name>Concordia International</span>. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
